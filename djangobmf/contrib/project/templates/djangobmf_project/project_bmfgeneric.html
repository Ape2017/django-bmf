{% extends "djangobmf/module_index.html" %}

{% load sekizai_tags i18n %}

{% block title %}{% trans "Projects" %}{% endblock %}

{% block base_content %}
<div ng-app="phonecatApp" ng-controller="PhoneListCtrl">
<h1>{% trans "Projects" %}</h1>

{% addtoblock "js" %}<script type="text/javascript"><!--
    var phonecatApp = angular.module('phonecatApp', []);
    phonecatApp.controller('PhoneListCtrl', function($scope, $http) {
            $http.get('{{ get_data_url }}').then(function(artResponse){
                $scope.data = artResponse.data;
            });
    });
--></script>{% endaddtoblock %}

{% verbatim %}
<ul>
    <li ng-repeat="obj in data.items">
        <span>{{ obj.name }}</span>
        <p>{{ obj.pk }}
        {{ obj.url }}</p>
    </li>
</ul>
<p>Total number of phones: {{ data.items.length }}</p>
{% endverbatim %}

<table class="table table-striped table-condensed table-hover">
  <thead>
    <tr>
        <th width="50%">{% trans "Name" %}</th>
        <th width="25%">{% trans "Customer" %}</th>
        <th width="25%">{% trans "Employee" %}</th>
        <th></th>
    </tr>
  </thead>
  <tbody>
  {% for obj in object_list %}
  <tr>
      <td>
          {% if obj.is_active %}
          <span class="glyphicon glyphicon-unchecked"></span>
          {% else %}
          <span class="glyphicon glyphicon-check"></span>
          {% endif %}
          <a href="{{ obj.bmfmodule_detail }}">{{ obj.name }}</a>
      </td>
      <td>{{ obj.customer }}</td>
      <td>{{ obj.employee }}</td>
      <td class="text-right">
        <a class="btn btn-xs btn-primary" href="{{ obj.bmfmodule_detail }}">
          <span class="glyphicon glyphicon-list"></span>
        </a>
      </td>
    </tr>
  {% endfor %}
  </tbody>
</table>

<nav>
    <ul class="pagination">
        <li>
                    <a href="#" aria-label="Previous">
                                <span aria-hidden="true">&laquo;</span>
                                      </a>
                                          </li>
                                              <li><a href="#">1</a></li>
                                                  <li><a href="#">2</a></li>
                                                      <li><a href="#">3</a></li>
                                                          <li><a href="#">4</a></li>
                                                              <li><a href="#">5</a></li>
                                                                  <li>
                                                                        <a href="#" aria-label="Next">
                                                                                    <span aria-hidden="true">&raquo;</span>
                                                                                          </a>
                                                                                              </li>
                                                                                                </ul>
                                                                                            </nav>

</div>
{% endblock %}
