{% load i18n %}
<table class="table table-striped table-condensed table-hover">
    <thead>
        <tr>
            <th width="20%">{% trans "Number" %}</th>
            <th width="60%">{% trans "Name" %}</th>
            <th width="20%">{% trans "Balance" %}</th>
        </tr>
    </thead>
    <tbody>
    {% verbatim %}
        <tr ng-repeat="obj in data.items" ng-class="obj.state == 'cancelled' || obj.state == 'finished' ? 'text-muted' : ''">
            <td>
                <span ng-if="obj.completed == false" class="glyphicon glyphicon-unchecked"></span>
                <span ng-if="obj.completed == true" class="glyphicon glyphicon-check"></span>

                <span ng-if="obj.state_key == 'review'"  class="label label-info">{{ obj.state }}</span>
                <span ng-if="obj.state_key == 'started'"  class="label label-primary">{{ obj.state }}</span>
                <span ng-if="obj.state_key == 'hold'"  class="label label-default">{{ obj.state }}</span>
                <span ng-if="obj.state_key == 'todo'"  class="label label-warning">{{ obj.state }}</span>

                <a href="{{ obj.bmfdetail }}">{{ obj.number }}</a>

                <span ng-if="obj.project || obj.goal" class="text-muted"><br><small>
                    <strong  ng-if="obj.project">{{ obj.project_name }}</strong>
                    <span ng-if="obj.goal">{{ obj.goal_summary }}</span>
                </small></span>
            </td>
            <td><a href="{{ obj.bmfdetail }}">{{ obj.name }}</a></td>
            <td class="text-right">{{ obj.balance_formatted }}</td>
        </tr>
    {% endverbatim %}
    </tbody>
</table>
